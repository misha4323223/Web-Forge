# MP.WebStudio - –°–∞–π—Ç –≤–µ–±-—Å—Ç—É–¥–∏–∏

## –ö–æ–Ω—Ü–µ–ø—Ü–∏—è
–í–µ–±-—Å—Ç—É–¥–∏—è –ú–∏—Ö–∞–∏–ª–∞ –ü–∏–º–∞—à–∏–Ω–∞, –≥–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –≤–µ–¥—ë—Ç **–ò–ò (Claude)**, –∞ –≤–ª–∞–¥–µ–ª–µ—Ü —Å—Ç—É–¥–∏–∏ ‚Äî –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –º–µ–∂–¥—É –ò–ò –∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏. –ü–æ–¥—Ä–æ–±–Ω–µ–µ: `–ö–æ–Ω—Ü–µ–ø—Ç.md`

## –û–±–∑–æ—Ä
–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ-—Å–∞–π—Ç –¥–ª—è –≤–µ–±-—Å—Ç—É–¥–∏–∏ —Å –∫–∏–Ω–µ—Ç–∏—á–µ—Å–∫–∏–º–∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏, –º–∞—Ç—Ä–∏—á–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º –∏ –Ω–µ–æ–Ω–æ–≤—ã–º–∏ –∞–∫—Ü–µ–Ω—Ç–∞–º–∏. –í–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- `–ö–æ–Ω—Ü–µ–ø—Ç.md` ‚Äî –∫–æ–Ω—Ü–µ–ø—Ü–∏—è —Å—Ç—É–¥–∏–∏ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π
- `WORKFLOW_GUIDE.md` ‚Äî —Ä–µ–≥–ª–∞–º–µ–Ω—Ç —Ä–∞–±–æ—Ç—ã —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- `DEPLOY.md` ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é
- `design_guidelines.md` ‚Äî –¥–∏–∑–∞–π–Ω-–≥–∞–π–¥–ª–∞–π–Ω—ã

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Frontend:** React, TypeScript, Tailwind CSS, Framer Motion, Shadcn UI
- **Backend:** Express.js, TypeScript
- **–°–±–æ—Ä–∫–∞:** Vite

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
client/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/     # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HeroSection.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AboutSection.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PortfolioSection.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ServicesSection.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TechnologiesSection.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProcessSection.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ContactSection.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Footer.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Navigation.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ParticleBackground.tsx
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Home.tsx           # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ demo/              # –î–µ–º–æ-–∫–æ–Ω—Ü–µ–ø—Ç—ã –¥–ª—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ FoodDelivery.tsx   # –õ–µ–Ω–¥–∏–Ω–≥ –¥–æ—Å—Ç–∞–≤–∫–∏ –µ–¥—ã
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ FitnessStudio.tsx  # –°–∞–π—Ç —Ñ–∏—Ç–Ω–µ—Å-—Å—Ç—É–¥–∏–∏
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ CosmeticsShop.tsx  # –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –∫–æ—Å–º–µ—Ç–∏–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ lib/            # –£—Ç–∏–ª–∏—Ç—ã
server/
‚îú‚îÄ‚îÄ routes.ts           # API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îú‚îÄ‚îÄ storage.ts          # In-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
shared/
‚îî‚îÄ‚îÄ schema.ts           # –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
```

## –î–∏–∑–∞–π–Ω
- –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ (#0a0a0a - #0f172a)
- –ê–∫—Ü–µ–Ω—Ç—ã: cyan (#38bdf8) –∏ purple (#a855f7)
- –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- –ß–∞—Å—Ç–∏—Ü—ã –Ω–∞ canvas —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## API
- `POST /api/contact` - –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–∫–∏ —Å —Ñ–æ—Ä–º—ã

## –î–µ–ø–ª–æ–π ‚Äî –Ø–Ω–¥–µ–∫—Å Cloud (–ê–ö–¢–£–ê–õ–¨–ù–û)

### –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–¥–µ–∫–∞–±—Ä—å 2024):
- **–î–æ–º–µ–Ω:** `mp-webstudio.ru` (–∫—É–ø–ª–µ–Ω –Ω–∞ **Reg.ru**)
- **DNS-—Å–µ—Ä–≤–µ—Ä—ã:** `ns1.reg.ru`, `ns2.reg.ru`
- **–•–æ—Å—Ç–∏–Ω–≥:** –Ø–Ω–¥–µ–∫—Å Object Storage (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∞–π—Ç)
- **–ë–∞–∫–µ—Ç:** `mp-webstudio.ru`
- **–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞:** http://mp-webstudio.ru.website.yandexcloud.net
- **SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:** Let's Encrypt —á–µ—Ä–µ–∑ Yandex Certificate Manager (`mp-webstudio-cert`)
- **Cloud Function:** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–æ—Ä–º (API)

### DNS-–∑–∞–ø–∏—Å–∏ –≤ Reg.ru:
| –¢–∏–ø | –ò–º—è | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-----|-----|----------|
| CNAME | `_acme-challenge` | `fpqqm86h9bt1ts8clt4e.cm.yandexcloud.net` |
| CNAME | `_acme-challenge.www` | `fpqqm86h9bt1ts8clt4e.cm.yandexcloud.net` |
| CNAME | `www` | `mp-webstudio.ru.website.yandexcloud.net` |

### –ö–∞–∫ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–∞–π—Ç:
1. –°–∫–∞—á–∞–π –ø—Ä–æ–µ–∫—Ç –∏–∑ Replit (Download as zip)
2. –ù–∞ –ü–ö: `npm install && npm run build`
3. –ó–∞–≥—Ä—É–∑–∏ —Ñ–∞–π–ª—ã –∏–∑ `dist/public` –≤ –±–∞–∫–µ—Ç (index.html + –ø–∞–ø–∫–∞ assets)
4. **–í–∞–∂–Ω–æ:** –ü—Ä–∏ –∫–∞–∂–¥–æ–π —Å–±–æ—Ä–∫–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –≤ assets –º–µ–Ω—è—é—Ç—Å—è ‚Äî –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤—Å—ë –∑–∞–Ω–æ–≤–æ

### –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:
- `DEPLOY.md` ‚Äî –ø–æ–ª–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é
- `DEPLOY_SIMPLE.md` ‚Äî —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è Object Storage

### Email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Yandex Cloud Postbox):
- **–°–µ—Ä–≤–∏—Å:** Yandex Cloud Postbox (—Å–æ–≤–º–µ—Å—Ç–∏–º —Å AWS SES API)
- **–î–æ–º–µ–Ω:** mp-webstudio.ru (DKIM –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
- **Email –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è:** info@mp-webstudio.ru
- **SDK:** @aws-sdk/client-sesv2
- **–§—É–Ω–∫—Ü–∏—è:** sendContractEmail –≤ index-ydb.js

**DNS –∑–∞–ø–∏—Å–∏ –¥–ª—è –¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ—Å—Ç–∏ (–¥–æ–±–∞–≤–∏—Ç—å –≤ Reg.ru):**
| –¢–∏–ø | –ò–º—è | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-----|-----|----------|
| TXT | `@` | `v=spf1 include:_spf.yandex.net ~all` |
| TXT | `_dmarc` | `v=DMARC1; p=none; rua=mailto:info@mp-webstudio.ru` |
| TXT | `mail._domainkey` | (DKIM - —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω) |

### –î–ª—è –±—É–¥—É—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∫–ª–∏–µ–Ω—Ç–æ–≤:
- –ü—Ä–æ—Å—Ç—ã–µ –ª–µ–Ω–¥–∏–Ω–≥–∏ ‚Üí Object Storage (—Å—Ç–∞—Ç–∏–∫–∞)
- –°–∞–π—Ç—ã —Å —Ñ–æ—Ä–º–∞–º–∏ ‚Üí Cloud Functions
- –ú–∞–≥–∞–∑–∏–Ω—ã ‚Üí Cloud Run + Managed PostgreSQL

## SEO-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–¥–µ–∫–∞–±—Ä—å 2024)

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. **Meta-—Ç–µ–≥–∏:** title, description, keywords, author, robots
2. **Open Graph:** –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ VK, Telegram, Facebook
3. **Twitter Cards:** summary_large_image
4. **JSON-LD —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
   - WebSite (—Å SearchAction)
   - Organization
   - LocalBusiness
   - Service (–∫–∞—Ç–∞–ª–æ–≥ —É—Å–ª—É–≥)
5. **sitemap.xml:** –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –¥–µ–º–æ-—Å–∞–π—Ç—ã
6. **robots.txt:** –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è Yandex –∏ Google
7. **Canonical URL:** https://mp-webstudio.ru/

### –ù—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—Ä—É—á–Ω—É—é:
1. **–°–æ–∑–¥–∞—Ç—å og-image.png** (1200x630 px) ‚Äî –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π
2. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –Ø–Ω–¥–µ–∫—Å.–í–µ–±–º–∞—Å—Ç–µ—Ä:**
   - https://webmaster.yandex.ru/
   - –î–æ–±–∞–≤–∏—Ç—å —Å–∞–π—Ç, –ø–æ–ª—É—á–∏—Ç—å –∫–æ–¥ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
   - –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å `<meta name="yandex-verification">` –≤ index.html
3. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ Google Search Console:**
   - https://search.google.com/search-console/
   - –î–æ–±–∞–≤–∏—Ç—å —Å–∞–π—Ç, –ø–æ–ª—É—á–∏—Ç—å –∫–æ–¥ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
   - –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å `<meta name="google-site-verification">` –≤ index.html
4. **–û—Ç–ø—Ä–∞–≤–∏—Ç—å sitemap:** –≤ –æ–±–æ–∏—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö —É–∫–∞–∑–∞—Ç—å https://mp-webstudio.ru/sitemap.xml

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∞–¥–º–∏–Ω–∫–∏ (–¥–µ–∫–∞–±—Ä—å 2024)

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å `/admin` –∑–∞—â–∏—â–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π —Å JWT-–ø–æ–¥–æ–±–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏.

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è Replit –ò Yandex Cloud Function):**
| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|----------|
| `ADMIN_EMAIL` | Email –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ |
| `ADMIN_PASSWORD` | –ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ |
| `ADMIN_TOKEN_SECRET` | (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ —Ç–æ–∫–µ–Ω–æ–≤ |

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç email –∏ –ø–∞—Ä–æ–ª—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/admin`
2. –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç credentials –∏ –≤—ã–¥–∞—ë—Ç –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω (24 —á–∞—Å–∞)
3. –¢–æ–∫–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ sessionStorage –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—Ö–æ–¥–µ
4. HMAC-SHA256 –ø–æ–¥–ø–∏—Å—å –∑–∞—â–∏—â–∞–µ—Ç —Ç–æ–∫–µ–Ω –æ—Ç –ø–æ–¥–¥–µ–ª–∫–∏

**API endpoints:**
- `POST /api/admin-login` ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç token)
- `POST /api/verify-admin` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞

**–î–ª—è Yandex Cloud:** –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ADMIN_EMAIL –∏ ADMIN_PASSWORD –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Cloud Function.

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Giga Chat (20 –¥–µ–∫–∞–±—Ä—è 2024) - –ù–û–í–û–ï

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. **–ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ AI —á–∞—Ç–∞** –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
   - –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É (–Ω–∏–∂–Ω—è—è-–ø—Ä–∞–≤–∞—è)
   - Gradient cyan-blue —Å –≥–ª–æ-—ç—Ñ—Ñ–µ–∫—Ç–æ–º
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏ –∫–ª–∏–∫–µ

2. **–ú–æ–¥–∞–ª–∫–∞ —á–∞—Ç–∞** (640x600px)
   - –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π (—Ç–æ–ª—å–∫–æ –≤ –ø–∞–º—è—Ç–∏, –ø—Ä–∏ F5 –ø—Ä–æ–ø–∞–¥–∞–µ—Ç)
   - –ü–æ–ª–µ –≤–≤–æ–¥–∞ —Å –∫–Ω–æ–ø–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
   - –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ (3 –ø—É–ª—å—Å–∏—Ä—É—é—â–∏–µ —Ç–æ—á–∫–∏)
   - –°–æ–æ–±—â–µ–Ω–∏—è —é–∑–µ—Ä–∞ —Å–ø—Ä–∞–≤–∞, AI - —Å–ª–µ–≤–∞
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "–ò—Å—Ç–æ—Ä–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è"

3. **Backend endpoint** `/api/giga-chat`
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç: `{ message: string }`
   - –û–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ Giga Chat API
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `{ success: true, response: string }`
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π (1-2000 —Å–∏–º–≤–æ–ª–æ–≤)

4. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–¥–ª—è Replit –∏ Yandex Cloud):**
   - `GIGACHAT_KEY` ‚Äî –ø–æ–ª–Ω—ã–π –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞ (ZDY2ODkxYjUtZDBkNi00MTM4LWJjZDUtMzBkODc2N2NlNjk5OmM0YjkxZjNlLTM2YTYtNGEwNS1iODk5LWQyNGY1ODUxOGU1Yg==)
   - `GIGACHAT_ID` ‚Äî ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (d66891b5-d0d6-4138-bcd5-30d8767ce699)
   - `GIGACHAT_SCOPE` ‚Äî scope (GIGACHAT_API_PERS)

5. **–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–∞–∫–µ—Ç—ã:**
   - `npm install gigachat` ‚Äî SDK –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Giga Chat API

### üìç –ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:
- **Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:** `client/src/components/ChatWidget.tsx`
- **Backend endpoint:** `server/routes.ts` (—Å—Ç—Ä–æ–∫–∞ ~720+)
- **–ü–æ–¥–∫–ª—é—á–µ–Ω –≤:** `client/src/App.tsx` (—Å—Ç—Ä–æ–∫–∞ 76)
- **–¢–∏–ø—ã:** `shared/schema.ts` (insertChatMessageSchema)

### üîß –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
1. –ù–∞ **Replit**: –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–∑ `.env`
2. –ù–∞ **Yandex Cloud Function**: –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ—É–Ω–∫—Ü–∏–∏

### üöÄ –ù–∞ Yandex Cloud:
–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ `yandex-cloud-function/index-ydb.js` —Ç–æ—Ç –∂–µ endpoint (–ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–∞ Replit).

---

## –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–¥–µ–∫–∞–±—Ä—å 2024)

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –Ω–∞ Yandex Cloud (20 –¥–µ–∫–∞–±—Ä—è, –∫–æ–Ω—Ç–µ–∫—Å—Ç 3) - –ó–ê–í–ï–†–®–ï–ù–û:
- ‚úÖ **Endpoint `/api/send-calculator-order` –¥–æ–±–∞–≤–ª–µ–Ω –≤ Cloud Function** (`yandex-cloud-function/index-ydb.js`)
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ä–æ—É—Ç–µ—Ä–µ (—Å—Ç—Ä–æ–∫–∏ 157-160)
  - –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `handleCalculatorOrder` (—Å—Ç—Ä–æ–∫–∏ 1802-1879)
  - –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ —Å Replit backend (server/routes.ts)
- ‚úÖ **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è:**
  - –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –∏–∑ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π (–∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, email, —Ç–∏–ø –ø—Ä–æ–µ–∫—Ç–∞, –æ–ø–∏—Å–∞–Ω–∏–µ)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ (basePrice, totalPrice)
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è Telegram —Å —Ç–∞–±–ª–∏—Ü–µ–π –æ–ø—Ü–∏–π
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ **–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:** –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –Ω–∞ `mp-webstudio.ru` —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Cloud Function

### –û–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –∑–∞–∫–∞–∑–∞ —á–µ—Ä–µ–∑ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä (20 –¥–µ–∫–∞–±—Ä—è) - –ù–û–í–û–ï:
- ‚úÖ **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑"** –≤ CalculatorSection
  - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑"
  - –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: —Ç–∞–±–ª–∏—Ü–∞ —Å–æ—Å—Ç–∞–≤–∞ (–±–∞–∑–∞ + –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –æ–ø—Ü–∏–∏ + –∏—Ç–æ–≥–æ)
  - –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: —Ñ–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ (–∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, email, –æ–ø–∏—Å–∞–Ω–∏–µ)
  - –ö–Ω–æ–ø–∫–∞ "–ó–∞–∫–∞–∑–∞—Ç—å" –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ backend
- ‚úÖ **API endpoint `/api/send-calculator-order`**
  - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç: –∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, email, —Ç–∏–ø –ø—Ä–æ–µ–∫—Ç–∞, –æ–ø—Ü–∏–∏, —Ü–µ–Ω—ã, –æ–ø–∏—Å–∞–Ω–∏–µ
  - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Telegram:
    - üéØ **–ù–û–í–´–ô –ó–ê–ö–ê–ó –ò–ó –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–†–ê**
    - üìã –ü—Ä–æ–µ–∫—Ç: –±–∞–∑–∞, —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–∞–∑—ã
    - üìã –í—ã–±—Ä–∞–Ω–Ω—ã–µ –æ–ø—Ü–∏–∏ (—Å —Ü–µ–Ω–∞–º–∏)
    - üí∞ –ò—Ç–æ–≥–æ: —Å—É–º–º–∞
    - üë§ –ö–æ–Ω—Ç–∞–∫—Ç—ã: –∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, email
    - üìù –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–∞ —Å—Ö–µ–º–∞** (shared/schema.ts): –¥–æ–±–∞–≤–ª–µ–Ω–∞ `insertCalculatorOrderSchema`
- ‚úÖ **–ö–Ω–æ–ø–∫–∞ "–ó–∞–∫–∞–∑–∞—Ç—å —Å–∞–π—Ç"** –æ—Å—Ç–∞–ª–∞—Å—å —Ä–∞–±–æ—á–µ–π (–≤–µ–¥—ë—Ç –Ω–∞ /order)
- ‚úÖ **–ö–Ω–æ–ø–∫–∞ "–û—Ñ–æ—Ä–º–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ"** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –∑–∞–∫–∞–∑–∞

### –ó–∞—â–∏—Ç–∞ –∞–¥–º–∏–Ω–∫–∏ (20 –¥–µ–∫–∞–±—Ä—è) - –û–ë–ù–û–í–õ–ï–ù–û –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
- ‚úÖ –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ –≤ `/admin` —Å email/password
- ‚úÖ JWT-–ø–æ–¥–æ–±–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã —Å HMAC-SHA256 –ø–æ–¥–ø–∏—Å—å—é
- ‚úÖ Constant-time —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (–∑–∞—â–∏—Ç–∞ –æ—Ç timing attacks)
- ‚úÖ –¢–æ–∫–µ–Ω—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã 24 —á–∞—Å–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å—Ç–µ–∫–∞—é—Ç)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–í—ã–π—Ç–∏" –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ **–ù–æ–≤–æ–µ:** –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ Cloud Function (–ø—Ä–æ–¥–∞–∫—à–µ–Ω)
  - `POST /api/admin-login` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç token
  - `POST /api/verify-admin` ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç token
  - –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –Ω–∞ Replit, —Ç–∞–∫ –∏ –Ω–∞ Yandex Cloud
- ‚úÖ **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è:** —Å–º. `DEPLOYMENT_ADMIN_AUTH.md`

### –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–±–æ—Ä–∫–∏ –¥–ª—è Yandex Cloud (19 –¥–µ–∫–∞–±—Ä—è):
1. **–ü—Ä–æ–±–ª–µ–º–∞:** –û—à–∏–±–∫–∞ `EBUSY: resource busy or locked` –ø—Ä–∏ `npm run build` –Ω–∞ Windows (–æ—Å–æ–±–µ–Ω–Ω–æ –≤ OneDrive)
2. **–†–µ—à–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ (`script/build.ts`):
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `waitForFilesUnlocked()` –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ —É–¥–∞–ª–µ–Ω–∏—è –∏ —Å–±–æ—Ä–∫–∏
   - –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–±–æ—Ä–∫–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥—ë–∂–Ω–µ–µ –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—á–µ—Ç–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ (Additional Invoices):
1. **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—á—ë—Ç–æ–≤ –∑–∞ –¥–æ–ø. —Ä–∞–±–æ—Ç—ã/—Ñ—É–Ω–∫—Ü–∏–∏ –∫ —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–∞–º
2. **–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:** –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å `/admin` (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ `client/src/pages/Admin.tsx`)
3. **API endpoints:**
   - `POST /api/additional-invoices` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –¥–æ–ø —Å—á–µ—Ç–∞
   - `GET /api/additional-invoices/order/:orderId` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–æ–ø —Å—á–µ—Ç–∞ –ø–æ –∑–∞–∫–∞–∑—É
   - `POST /api/robokassa/additional-invoice` ‚Äî callback –æ–ø–ª–∞—Ç—ã –¥–æ–ø —Å—á–µ—Ç–∞
4. **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   - –í—ã–±–æ—Ä –∑–∞–∫–∞–∑–∞ –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ ID –∏–ª–∏ –≤–≤–æ–¥ –≤—Ä—É—á–Ω—É—é
   - –û–ø–∏—Å–∞–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —É—Å–ª—É–≥–∏/—Ñ—É–Ω–∫—Ü–∏–∏
   - –£–∫–∞–∑–∞–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤ —Ä—É–±–ª—è—Ö
   - –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Å—Å—ã–ª–∫–∏ —á–µ—Ä–µ–∑ Robokassa
   - –°—Å—ã–ª–∫–∞ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–ª–∏–µ–Ω—Ç—É
5. **–ü—Ä–æ—Ü–µ—Å—Å –æ–ø–ª–∞—Ç—ã:**
   - –ü—Ä–∏ –æ–ø–ª–∞—Ç–µ –¥–æ–ø —Å—á–µ—Ç–∞ ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è email "–ü–ª–∞—Ç–µ–∂ –ø—Ä–∏–Ω—è—Ç –∑–∞ [–Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏]"
   - –ü—Ä–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –æ–ø–ª–∞—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ê–∫—Ç —Å–æ –í–°–ï–ú–ò —Ä–∞–±–æ—Ç–∞–º–∏ (–≤–∫–ª—é—á–∞—è –æ–ø–ª–∞—á–µ–Ω–Ω—ã–µ –¥–æ–ø —Ñ—É–Ω–∫—Ü–∏–∏)
6. **–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:** `insertAdditionalInvoiceSchema`, `AdditionalInvoice` –≤ `shared/schema.ts`

### Email —Å –¥–æ–≥–æ–≤–æ—Ä–æ–º –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã:
1. –ù–∞—Å—Ç—Ä–æ–µ–Ω Yandex Cloud Postbox –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email
2. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `sendContractEmail` –≤ `yandex-cloud-function/index-ydb.js`
3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏:
   - "SESClient is not defined" ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SESv2Client –∏–∑ @aws-sdk/client-sesv2
   - "message contains too long lines" ‚Üí –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è wrapBase64
4. DKIM –ø–æ–¥–ø–∏—Å—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ (–∑–∞–ø–∏—Å—å mail._domainkey.mp-webstudio.ru)
5. Email —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã Robokassa

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è Cloud Function (package.json):
```json
{
  "dependencies": {
    "@aws-sdk/client-sesv2": "^3.700.0",
    "@yandex-cloud/nodejs-sdk": "^2.7.0",
    "nodemailer": "^6.9.0",
    "pdfkit": "^0.15.0",
    "ydb-sdk": "^5.0.0"
  }
}
```

## –ö–æ–º–∞–Ω–¥—ã
```bash
npm run dev      # –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run build    # –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
```
